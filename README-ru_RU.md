<div align="center">
<img alt="Compass logo" src="banner.svg">
<br/><br/>
</div>
<br/><br/>
<div align="center">
<strong>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</strong>
<br>
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.
<br /><br />
</div>

<div align="center">

[![codecov](https://codecov.io/gh/vinogradsoft/compass/graph/badge.svg?token=S1XRZ1GEY8)](https://codecov.io/gh/vinogradsoft/compass)
<img src="https://badgen.net/static/license/MIT/green">

</div>

## –ß—Ç–æ —Ç–∞–∫–æ–µ Compass?

> üëâ Compass - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å URL-–∞–¥—Ä–µ—Å–∞–º–∏ –∏ –ø—É—Ç—è–º–∏ –∫ —Ñ–∞–π–ª–∞–º –Ω–∞ –∂–µ—Å—Ç–∫–æ–º –¥–∏—Å–∫–µ. –í –µ–µ —Å–æ—Å—Ç–∞–≤
> –≤—Ö–æ–¥—è—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –¶–µ–ª—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ - –æ–±–ª–µ–≥—á–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å URL-–∞–¥—Ä–µ—Å–∞–º–∏ –∏
> –¥–∞–Ω–Ω—ã–º–∏ –æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤.

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

Compass –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö PHP-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º –∏ URL-–∞–¥—Ä–µ—Å–æ–≤. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –≤
—Å–µ–±—è –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: `Compass\Path` –∏ `Compass\Url`. –û–±–∞ —ç—Ç–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏. `Compass\Path` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏, –≤–∫–ª—é—á–∞—è –ø–æ–∏—Å–∫, –∑–∞–º–µ–Ω—É –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ —Å—Ç—Ä–æ–∫–µ –ø—É—Ç–∏, –∞ —Ç–∞–∫–∂–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏—Ö –ø–æ—Ä—è–¥–∫–∞. –í —Å–≤–æ—é
–æ—á–µ—Ä–µ–¥—å, `Compass\Url` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å URL, –ø–æ–∑–≤–æ–ª—è—è —Å–æ–∑–¥–∞–≤–∞—Ç—å, –ø–æ–ª—É—á–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ
—á–∞—Å—Ç–∏ URL-–∞–¥—Ä–µ—Å–∞.

–û–±–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ —Å—Ö–æ–∂–µ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É, —Å–Ω–∞—á–∞–ª–∞ —Å–æ–±–∏—Ä–∞—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è—é—Ç –∏—Ö –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —Å
–ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `updateSource()`.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏ - —á–µ—Ä–µ–∑ [composer](http://getcomposer.org/download/).

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É

```
php composer require vinogradsoft/compass "^1.0"
```

–¢—Ä–µ–±—É–µ—Ç—Å—è PHP 8.0 –∏–ª–∏ –Ω–æ–≤–µ–µ.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç URL

### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```php
<?php
require_once dirname(__DIR__, 1) . '/vendor/autoload.php';
use \Compass\Url;

$url = Url::createBlank();

$url->setScheme('http')->setUser('grigor')->setPassword('password')->setHost('vinograd.soft')
    ->setPort('8080')->setPath('/path/to/resource')->setSuffix('.json')
    ->setArrayQuery(['query' => 'value',])->setFragment('fragment');

$url->updateSource();

echo '<br><br><b>Authority:</b> ', $url->getAuthority();
echo '<br><b>Base Url:</b> ', $url->getBaseUrl();
echo '<br><b>Relative Url:</b> ', $url->getRelativeUrl();
echo '<br><b>Absolute Url:</b> ', $url->getSource(), '<br>';
echo '<br><b>Scheme:</b> ', $url->getScheme();
echo '<br><b>User:</b> ', $url->getUser();
echo '<br><b>Password:</b> ', $url->getPassword();
echo '<br><b>Host:</b> ', $url->getHost();
echo '<br><b>Port:</b> ', $url->getPort();
echo '<br><b>Path:</b> ', $url->getPath();
echo '<br><b>Suffix:</b> ', $url->getSuffix();
echo '<br><b>Query:</b> ', $url->getQuery();
echo '<br><b>Fragment:</b> ', $url->getFragment();

$url->setSource('http://—Ä–æ—Å—Å–∏—è.—Ä—Ñ');
$url->setConversionIdnToAscii(true)->updateSource();
echo '<br><br><b>new URL:</b> ',$url; #http://xn--h1alffa9f.xn--p1ai
```

### –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞ Compass\Url

–û–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ `Compass\Url` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –ø—É—Ç–µ–º –≤—ã–∑–æ–≤–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ `createBlank()`, –ª–∏–±–æ —Å –ø–æ–º–æ—â—å—é
–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `new`. –ú–µ—Ç–æ–¥ `createBlank` –ø—Ä–∏–º–µ—á–∞—Ç–µ–ª–µ–Ω —Ç–µ–º, —á—Ç–æ –≤ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ –∂–µ
–ø—Ä–æ—Ç–æ—Ç–∏–ø–∞. –£ –¥–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –µ—Å—Ç—å –¥–≤–∞ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: `$isIdnToAscii`, `$updateStrategy` - –æ–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç,
–±—É–¥–µ—Ç –ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ö–æ—Å—Ç–∞ –≤ `punycode`, –∏ –∫–∞–∫—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è URL –ø—Ä–∏–º–µ–Ω—è—Ç—å.

–ü–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, `$isIdnToAscii` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ö–æ—Å—Ç–∞. –ï—Å–ª–∏ –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `true`,
—Ö–æ—Å—Ç –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –∂–µ `false` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ö–æ—Å—Ç–∞ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

–í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä, `$updateStrategy` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è URL. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è
—Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö URL-–∞–¥—Ä–µ—Å–∞.

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ `Compass\Url` —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `new` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–¥–∏–Ω
–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä - —ç—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–π URL –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏.

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Å–±–æ—Ä–∫–∏ URL

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é:

- –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
- –º–µ—Ç–æ–¥–∞ `$url->setSource(string $src);`
- –º–µ—Ç–æ–¥–∞ `$url->setAll(array $parts);`
- –º–µ—Ç–æ–¥–æ–≤ –æ—Ç–≤–µ—á–∞—é—â–∏—Ö –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —á–∞—Å—Ç—å Url (–∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –±—ã—Å—Ç—Ä–æ–º —Å—Ç–∞—Ä—Ç–µ).

### ‚ö° –ü—Ä–∏–º–µ—Ä—ã

#### **üëâ –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**

```php
$url = new Url('http://grigor:password@vinograd.soft:8080/path/to/resource?query=value#fragment');
```

#### **üëâ –° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `$url->setSource(string $src);`**

```php
$url->setSource('http://grigor:password@vinograd.soft:8080/path/to/resource?query=value#fragment');
```

#### **üëâ –° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `$url->setAll(array $parts);`**

```php
$url->setAll([
    ':host' => 'host.ru',
    ':scheme' => 'http',
    ':user' => 'user',
    ':password' => 'password',
    ':port' => '80',
    ':path' => ['path', 'to', 'resource'],
    '?' => ['key' => 'value', 'key2' => 'value2'],
    '#' => 'fragment',
    ':suffix' => '.json',
]);
```

#### **üëâ –° –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ –æ—Ç–≤–µ—á–∞—é—â–∏—Ö –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —á–∞—Å—Ç—å Url.**

```php
$url->setScheme('http')->setUser('grigor')->setPassword('password')->setHost('vinograd.soft')
    ->setPort('8080')->setPath('/path/to/resource')->setSuffix('.json')
    ->setArrayQuery(['query' => 'value',])->setFragment('fragment');
```

–í –ø–µ—Ä–≤—ã—Ö –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö —Å—É—Ñ—Ñ–∏–∫—Å –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö —Å—É—Ñ—Ñ–∏–∫—Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–æ–º
`$url->setSuffix(.json);`, —Ç–æ–ª—å–∫–æ —Ç–∞–∫ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∏–º —É–ø—Ä–∞–≤–ª—è—Ç—å.

> ‚ùó –°—É—Ñ—Ñ–∏–∫—Å –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π —Å—Ç—Ä–æ–∫–æ–π, –∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å —Ç–æ—á–∫–∏. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ
> URL —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º, —Ç–æ –æ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç—å—é path.

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ `$url->updateSource()`. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏–º–µ–µ—Ç –¥–≤–∞
–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–∞ - `$updateAbsoluteUrl` –∏ `$suffix`. –ó–Ω–∞—á–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ `$updateAbsoluteUrl` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –±—É–¥–µ—Ç
–ª–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –≤–µ—Å—å URL-–∞–¥—Ä–µ—Å –∏–ª–∏ —Ç–æ–ª—å–∫–æ –µ–≥–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ `true`, –¥—Ä—É–≥–∏–º–∏
—Å–ª–æ–≤–∞–º–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –≤–µ—Å—å URL. –ü–∞—Ä–∞–º–µ—Ç—Ä `$suffix` –∏–º–µ–µ—Ç —Ç–∏–ø `string` –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
—Å—É—Ñ—Ñ–∏–∫—Å –≤ –º–æ–º–µ–Ω—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –º–µ—Ç–æ–¥–æ–º `$url->getSource()`.

### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

> üì¢ ***–°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è*** - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ URL-–∞–¥—Ä–µ—Å–∞.
> –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `Compass\UrlStrategy`. –í —Å–∏—Å—Ç–µ–º–µ, –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é,
> –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `Compass\DefaultUrlStrategy`. <br>

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–∏–¥—É–º–∞–Ω–∞, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è URL. –û–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤ –ø–æ –æ–¥–Ω–æ–º—É
–Ω–∞ –∫–∞–∂–¥—ã–π —É—á–∞—Å—Ç–æ–∫ URL-–∞–¥—Ä–µ—Å–∞, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–∫–ª–µ–∏–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –±—É–¥—É—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤
–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ `Compass\Url` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π —É—á–∞—Å—Ç–∫–æ–≤. –ï—Å—Ç—å –Ω–µ–∫–∏–µ —Ñ–ª–∞–≥–∏ –∫–æ—Ç–æ—Ä—ã–µ –≥–æ–≤–æ—Ä—è—Ç –∫–∞–∫–∏–µ
—É—á–∞—Å—Ç–∫–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª–æ–≥–∏—é —Å –¥–æ—Ä–æ–≥–æ–π –ø–æ–¥–µ–ª–µ–Ω–Ω–æ–π –Ω–∞ –∫–∞–∫–æ–µ-—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
—É—á–∞—Å—Ç–∫–æ–≤ "A", "B", "C", "D" –∏ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π –∫–æ—Ç–æ—Ä–∞—è –∑–∞ –Ω–µ–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞. –í –∏–¥–µ–∞–ª–µ –¥–æ—Ä–æ–≥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—Å–µ–≥–¥–∞ —Ä–æ–≤–Ω–∞—è.
–ö–æ–≥–¥–∞ –Ω–∞ –¥–æ—Ä–æ–≥–µ –ø–æ–≤—Ä–µ–∂–¥–∞–µ—Ç—Å—è –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å —É—á–∞—Å—Ç–æ–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä "–°", —Ä–µ–º–æ–Ω—Ç–Ω–∞—è –±—Ä–∏–≥–∞–¥–∞ –≤—ã–µ–∑–∂–∞–µ—Ç –Ω–∞ —ç—Ç–æ—Ç —É—á–∞—Å—Ç–æ–∫ –∏
—Ä–µ–º–æ–Ω—Ç–∏—Ä—É–µ—Ç –µ–≥–æ. –¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∏ URL-–∞–¥—Ä–µ—Å, –≥–¥–µ –¥–æ—Ä–æ–≥–∞ —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ —É –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏ - —É—á–∞—Å—Ç–∫–∏.
–†–µ–º–æ–Ω—Ç–Ω—ã–µ –±—Ä–∏–≥–∞–¥—ã - —ç—Ç–æ –º–µ—Ç–æ–¥—ã –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –î–æ—Ä–æ–∂–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è - —ç—Ç–æ –æ–±—ä–µ–∫—Ç `Compass\Url`.

–£ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –µ—Å—Ç—å —à–µ—Å—Ç—å –º–µ—Ç–æ–¥–æ–≤ –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–∑–¥–∞—é—Ç—Å—è —á–∞—Å—Ç–∏ URL-–∞–¥—Ä–µ—Å–∞:

- `updateAuthority()`
- `updateBaseUrl()`
- `updateQuery()`
- `updatePath()`
- `updateRelativeUrl()`
- `updateAbsoluteUrl()`.

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –∫–∞–∫–æ–π-–ª–∏–±–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è URL, —Å–∏—Å—Ç–µ–º–∞ –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—á–∞—Å—Ç–∫–∞, –∫–∞–∫ –±—ã, –ø–æ–≤—Ä–µ–∂–¥–∞–µ—Ç —Ç–æ—Ç
—É—á–∞—Å—Ç–æ–∫ –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä. –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ `$url->updateSource();` –≤ —Ä–∞–±–æ—Ç—É –≤–∫–ª—é—á–∞—é—Ç—Å—è
—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.

> ‚ùó –í–∞–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –≤ –æ–±—ä–µ–∫—Ç–µ `Compass\Url` —Ö—Ä–∞–Ω—è—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–µ —á–∞—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã
> –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –º–æ–∂–Ω–æ –ø–æ–¥–µ–ª–∏—Ç—å —É—Å–ª–æ–≤–Ω–æ –Ω–∞ —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è.

```
                                             –£–†–û–í–ï–ù–¨ 3
        |--------------------------------updateAbsoluteUrl()---------------------------------|
        |                                                                                    |
        |                                    –£–†–û–í–ï–ù–¨ 2                                       |
        |---------------updateBaseUrl()-----------|------------updateRelativeUrl()-----------|
        |                                         |                                          |
        |                                    –£–†–û–í–ï–ù–¨ 1                                       |
        |                updateAuthority()        |     updatePath()     updateQuery()       |
        |       /‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ\|/‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ\ /‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ‚Äæ\         |
        |http://grigor:password@vinograd.soft:8080/path/to/resource.json?query=value#fragment|
```

–ú–µ—Ç–æ–¥ —Ç—Ä–µ—Ç—å–µ–≥–æ —É—Ä–æ–≤–Ω—è `updateAbsoluteUrl()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –≤ –Ω–µ–º —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã –º–µ—Ç–æ–¥–æ–≤
–≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è. –ú–µ—Ç–æ–¥—ã –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è `updateBaseUrl()` –∏ `updateRelativeUrl()` —Å–æ–µ–¥–∏–Ω—è—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–≤–æ–≥–æ
—É—Ä–æ–≤–Ω—è. –ù–∞ –ø–µ—Ä–≤–æ–º —É—Ä–æ–≤–Ω–µ `updateAuthority()`, `updatePath()` –∏ `updateQuery()` —Å–∫–ª–µ–∏–≤–∞—é—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ —á–∞—Å—Ç–∏ –∫–∞–∂–¥—ã–π –≤ —Å–≤–æ–µ–π
–æ–±–ª–∞—Å—Ç–∏.

### –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

–°–æ—Å—Ç–æ—è–Ω–∏—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—è—Ö –∫–ª–∞—Å—Å–∞ `Compass\Url`. `$authoritySate`, `$relativeUrlState` –∏ `$schemeState`.
`$authoritySate` –∏ `$relativeUrlState` –∏–º–µ—é—Ç —Ç–∏–ø `int`, `$schemeState` - `bool`. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ `$authoritySate`
–∏ `$relativeUrlState` –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è –±–∏—Ç–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏. –í–æ—Ç –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
–∫–æ–≥–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ–ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–æ–µ:

```php
const USER_STATE = 1 << 0;
const PASSWORD_STATE = 1 << 1;
const HOST_STATE = 1 << 2;
const PORT_STATE = 1 << 3;

const PATH_STATE = 1 << 0;
const QUERY_STATE = 1 << 1;
const FRAGMENT_STATE = 1 << 2;

const AUTHORITY_WHOLE = self::USER_STATE | self::PASSWORD_STATE | self::HOST_STATE | self::PORT_STATE;
const RELATIVE_URL_WHOLE = self::PATH_STATE | self::QUERY_STATE | self::FRAGMENT_STATE;

/**
 * current states
 */
protected int $authoritySate = self::AUTHORITY_WHOLE;
protected int $relativeUrlState = self::RELATIVE_URL_WHOLE;
protected bool $schemeState = true;
```

–ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –ø–æ–≤—Ä–µ–¥–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `$relativeUrlState` –≤ –æ–±–ª–∞—Å—Ç–∏ `query`, —Ç–æ –º—ã –º–æ–∂–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–±–∏—Ç–æ–≤—ã–º–∏
–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏:

```php
$relativeUrlState &= ~Url::QUERY_STATE;
```

–û—Å—Ç–∞–ª—å–Ω—ã–º–∏ —É—á–∞—Å—Ç–∫–∞–º–∏ –º–æ–∂–Ω–æ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `$schemeState` –µ–º—É –Ω—É–∂–Ω–æ
–ø—Ä–∏—Å–≤–æ–∏—Ç—å –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

### ‚ö° –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤–æ–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

–ü—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è URL, –∏–Ω–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –º–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ
—Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `forceUnlockMethod(...)` –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ
–∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —É—á–∞—Å—Ç–∫–∞, —Ç–µ–º —Å–∞–º—ã–º –∑–∞—Å—Ç–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω—É–∂–Ω—ã–π –º–µ—Ç–æ–¥.

–≠—Ç–æ –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å URL –¥–ª—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫. –°–æ–∑–¥–∞–¥–∏–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤
–∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–ª—è –≤—Å–µ—Ö URL —Å –¥–æ–º–µ–Ω–æ–º `another.site` –ø–∞—Ä–∞–º–µ—Ç—Ä `refid` —Ä–∞–≤–Ω—ã–π `40`.

–ö–æ–¥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

```php
<?php

namespace <your\namespace>;

use Compass\DefaultUrlStrategy;
use Compass\Url;

class ReferralUrlStrategy extends DefaultUrlStrategy
{

    private bool $isAllowInsertParam = false;

    /**
     * @inheritDoc
     */
    public function updateQuery(array $items): string
    {
        if ($this->isAllowInsertParam) {
            $items['refid'] = 40;
            $this->isAllowInsertParam = false;
        }
        return http_build_query($items, '', '&', PHP_QUERY_RFC3986);
    }

    /**
     * @inheritDoc
     */
    public function forceUnlockMethod(
        bool    &$schemeState,
        int     &$authoritySate,
        int     &$relativeUrlState,
        array   $items,
        array   $pathItems,
        array   $queryItems,
        bool    $updateAbsoluteUrl,
        ?string $suffix = null
    ): void
    {
        if ($items[Url::HOST] === 'another.site') {
            $this->isAllowInsertParam = true;
        }
        $relativeUrlState &= ~Url::QUERY_STATE;
    }

}
```

–¢–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–æ–≤–∏–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏ –≤—ã–≤–µ–¥–µ–º –¥–≤–∞ URL, –æ–¥–∏–Ω –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Ü–µ–ª–µ–≤—ã–º, —Å –¥–æ–º–µ–Ω–æ–º `another.site`:

```php
$url = Url::createBlank();
$url->setUpdateStrategy(new ReferralUrlStrategy());

$url->setSource('https://another.site');
$url->updateSource();
echo $url->getSource(), '<br>'; # https://another.site/?refid=40

$url->setHost('vinograd.soft');
$url->updateSource();
echo $url->getSource(); # https://vinograd.soft
```

–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (`$relativeUrlState &= ~Url::QUERY_STATE;`) –Ω—É–∂–Ω–æ –±—ã–ª–æ
–Ω–∞–ø–∏—Å–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ `if` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –Ω–æ —ç—Ç–æ –Ω–µ —Ç–∞–∫. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —Ö–æ—Å—Ç `vinograd.soft`, –≤—ã–∑–æ–≤
–º–µ—Ç–æ–¥–∞ `updateSource()` –Ω–µ –ø—Ä–∏–≤–µ–ª –±—ã –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –º–µ—Ç–æ–¥–∞ `updateQuery` –Ω–∞—à–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–µ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∏
–æ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —à—Ç–∞—Ç–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º, –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥ –±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç—Ç–æ–≥–æ —É—á–∞—Å—Ç–∫–∞. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Å—Ç–∞–ª–æ—Å—å –±—ã
–Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–º, –æ–±–Ω–æ–≤–∏–ª—Å—è –±—ã —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–æ–∫ `baseurl` –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `refid=40` —Å –ø—Ä–æ—à–ª–æ–≥–æ —Ä–∞–∑–∞, –±—ã–ª –±—ã —Å–∫–ª–µ–µ–Ω
—Å –Ω–æ–≤—ã–º `baseurl` –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö–æ—Å—Ç `vinograd.soft`.

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤—ã –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ —à—Ç–∞—Ç–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —á–∞—Å—Ç–µ–π URL. –ò—Å–ø–æ–ª—å–∑—É—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–æ–∂–Ω–æ
–¥–µ–ª–∞—Ç—å –ø–æ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è HTML-–∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö URL (href,
src –∏ –¥—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã —ç—Ç–æ–≥–æ —Ç–∏–ø–∞).

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç PATH

üëâ `Compass\Path` –º–æ–∂–Ω–æ –æ—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—ä–µ–∫—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É. –û–Ω –æ–ø–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–æ–π –ø—É—Ç–∏ –Ω–µ
–æ–ø–∏—Ä–∞—è—Å—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ `Compass\Url` –∏–º–µ–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç
–≤ —Å–µ–±—è –æ–¥–∏–Ω –º–µ—Ç–æ–¥ `updatePath()`. –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —ç—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π.

### üöÄ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤

```php
<?php

use Compass\Path;

require_once dirname(__DIR__, 1) . '/vendor/autoload.php';

$path = new Path('/__NAME__/__NAME__Scanner/__NAME2__Driver', '/');

$path->replaceAll([
    '__NAME__' => 'User',
    '__NAME2__' => 'Filesystem',
]);
$path->updateSource();

echo '<br>', $path; # /User/UserScanner/FilesystemDriver

$path->setAll(['path', 'to', 'file.txt']);
$path->updateSource();

echo '<br>', $path; # path/to/file.txt

$path->set(1, 'newTo');
$path->updateSource();

echo '<br>', $path; # path/newTo/file.txt

$path->setBy('path', 'newPath');
$path->updateSource();

echo '<br>', $path; # newPath/newTo/file.txt

echo '<br>', $path->dirname(); # newPath/newTo

$path->setSuffix('.v');
$path->updateSource();
echo '<br>', $path; # newPath/newTo/file.txt.v

$path->setSource('newPath/newTo/file');
$path->setSuffix('.v');
$path->updateSource();
echo '<br>', $path; # newPath/newTo/file.v

$path->replace('newPath','path');
$path->updateSource();
echo '<br>', $path; # path/newTo/file.v
echo '<br>', $path->getLast(); # file.v
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

``` php composer tests ```

## –°–æ–¥–µ–π—Å—Ç–≤–∏–µ

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–º–æ—Ç—Ä–∏—Ç–µ [–í–ö–õ–ê–î](CONTRIBUTING.md) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## –õ–∏—Ü–µ–Ω–∑–∏—è

–õ–∏—Ü–µ–Ω–∑–∏—è MIT (MIT). –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–º–æ—Ç—Ä–∏—Ç–µ [—Ñ–∞–π–ª –ª–∏—Ü–µ–Ω–∑–∏–∏](LICENSE) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
